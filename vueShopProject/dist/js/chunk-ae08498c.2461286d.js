(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae08498c"],{"067f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-sticky",[n("div",{staticClass:"searchBox"},[n("div",{staticClass:"search"},[n("i",[n("van-icon",{attrs:{name:"search"}})],1),n("span",{directives:[{name:"show",rawName:"v-show",value:t.delShow,expression:"delShow"}],staticClass:"del",on:{click:t.del}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"请输入搜索关键字"},domProps:{value:t.keywords},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.keywords=e.target.value)}}})]),n("div",{staticClass:"cancel",on:{click:function(e){return t.$router.go("-1")}}},[t._v("取消")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"hot"},[n("div",{staticClass:"title"},[t._v("热门搜索")]),t._l(t.hotSearch,(function(e,a){return n("span",{key:a,class:{more:"0"==a},on:{click:function(n){return t.hotSearchClick(e)}}},[t._v(t._s(e))])})),t.searchHistory.length>0?n("div",{staticClass:"title"},[t._v("搜索记录")]):t._e(),t._l(t.searchHistory,(function(e,a){return n("span",{key:a+"-only",on:{click:function(n){return t.hotSearchClick(e)}}},[t._v(t._s(e))])}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"error"},[n("div",{staticClass:"img"}),n("p",[t._v("抱歉,没有搜索到相关的商品")])]),t.searchData?n("div",t._l(t.searchContent,(function(e,a){return n("div",{key:a,staticClass:"content",on:{click:function(n){return t.goDetail(e)}}},[n("div",{staticClass:"img2"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.shop_img,expression:"item.shop_img"}],attrs:{alt:""}})]),n("div",{staticClass:"right"},[n("p",{staticClass:"yh"},[t._v("直降")]),n("p",{staticClass:"title"},[t._v(t._s(e.shop_name))]),n("p",{staticClass:"brief"}),n("p",{staticClass:"price"},[n("span",{staticClass:"red"},[t._v("￥"+t._s(e.shop_price)+".00")]),n("del",[t._v("￥"+t._s(e.old_price)+".00")])])])])})),0):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.likeShow,expression:"likeShow"}]},[n("like")],1),t.loading?n("loading"):t._e()],1)},s=[],i=(n("4160"),n("caad"),n("c975"),n("ac1f"),n("2532"),n("841c"),n("159b"),n("2145")),r=n("19d0"),o={data:function(){return{delShow:!1,keywords:"",isShow:!0,flag:!1,likeShow:!0,searchData:!0,goodsList:[],hotSearch:["坚果 Pro 3","卫衣","帆布鞋","保护套","T恤"],searchContent:[],searchHistory:[],loading:!1}},methods:{goDetail:function(t){this.$router.push({path:"./detail",query:t})},hotSearchClick:function(t){this.keywords=t,this.search()},del:function(){this.keywords=""},search:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1}),1e3);var e=this.searchHistory.includes(this.keywords);if(e||this.searchHistory.push(this.keywords),this.searchData=!0,!this.keywords)return this.isShow=!0,!1;this.isShow=!1;var n=[];this.goodsList.forEach((function(e){-1!=e.shop_name.indexOf(t.keywords)&&n.push(e)})),n.length>0?(this.flag=!1,this.likeShow=!1,this.searchContent=n):(this.likeShow=!0,this.flag=!0)}},watch:{keywords:function(t){""==t?(this.searchContent=[],this.searchData=!1,this.likeShow=!0,this.flag=!1,this.isShow=!0,this.delShow=!1):this.delShow=!0}},components:{like:i["a"],loading:r["a"]},created:function(){var t=this;this.$store.state.isShow=!1,this.$store.state.bedFalg=!1;var e=JSON.parse(window.localStorage.getItem("searchData"));e&&e.expires>Date.now()?this.goodsList=e.data:this.$axios.get("searchData").then((function(e){200==e.data.code&&window.localStorage.setItem("searchData",JSON.stringify({expires:Date.now()+6e5,data:e.data.result})),t.goodsList=e.data.result})).catch((function(t){console.log(t)}))},destroyed:function(){this.$store.state.bedFalg=!0}},c=o,l=(n("d28c"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"1b03a9f4",null);e["default"]=u.exports},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,n){var a=n("c6b6"),s=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"19d0":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading"},[a("img",{attrs:{src:n("58f9"),alt:""}})])}],i={},r=i,o=(n("a68c"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"91cd762a",null);e["a"]=c.exports},2145:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"like"},[n("h1",[t._v("猜你喜欢")]),n("div",{staticClass:"content"},[n("ul",t._l(t.goodsList,(function(e,a){return n("li",{key:a,on:{click:function(n){return t.goDetail(e)}}},[n("div",{staticClass:"img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.shop_img,expression:"item.shop_img"}],attrs:{alt:""}})]),n("div",{staticClass:"text"},[n("h2",[t._v(t._s(e.shop_name))]),n("p",[n("span",{staticClass:"red"},[n("span",{staticClass:"rmb"},[t._v("￥")]),t._v(" "+t._s(e.shop_price)+" ")]),n("del",[t._v("￥"+t._s(e.old_price))]),n("span",{staticClass:"yh"},[t._v(t._s(e.yh))])])])])})),0)])])])},s=[],i={data:function(){return{goodsList:[]}},inject:["reload"],methods:{goDetail:function(t){this.$router.push({path:"./detail",query:t}),this.reload()}},created:function(){var t=this,e=JSON.parse(window.localStorage.getItem("likeList"));e&&e.expires>Date.now()?this.goodsList=e.data:this.$axios.get("likeList").then((function(e){200==e.data.code&&(window.localStorage.setItem("likeList",JSON.stringify({expires:Date.now()+6e5,data:e.data.result})),t.goodsList=e.data.result)})).catch((function(t){console.log(t)}))}},r=i,o=(n("d3dc"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"623ef60a",null);e["a"]=c.exports},2532:function(t,e,n){"use strict";var a=n("23e7"),s=n("5a34"),i=n("1d80"),r=n("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(i(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"2a2c":function(t,e,n){},"44e7":function(t,e,n){var a=n("861d"),s=n("c6b6"),i=n("b622"),r=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},5163:function(t,e,n){},"58f9":function(t,e,n){t.exports=n.p+"img/loading.f484bf79.svg"},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"841c":function(t,e,n){"use strict";var a=n("d784"),s=n("825a"),i=n("1d80"),r=n("129f"),o=n("14c3");a("search",1,(function(t,e,n){return[function(e){var n=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var i=s(t),c=String(this),l=i.lastIndex;r(l,0)||(i.lastIndex=0);var u=o(i,c);return r(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},9263:function(t,e,n){"use strict";var a=n("ad6d"),s=n("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,o=i,c=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||l;d&&(o=function(t){var e,n,s,o,d=this,h=l&&d.sticky,f=a.call(d),v=d.source,p=0,g=t;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,p++),n=new RegExp("^(?:"+v+")",f)),u&&(n=new RegExp("^"+v+"$(?!\\s)",f)),c&&(e=d.lastIndex),s=i.call(h?n:d,g),h?s?(s.input=s.input.slice(p),s[0]=s[0].slice(p),s.index=d.lastIndex,d.lastIndex+=s[0].length):d.lastIndex=0:c&&s&&(d.lastIndex=d.global?s.index+s[0].length:e),u&&s&&s.length>1&&r.call(s[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s}),t.exports=o},"92ae":function(t,e,n){},"9f7f":function(t,e,n){"use strict";var a=n("d039");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a68c:function(t,e,n){"use strict";var a=n("5163"),s=n.n(a);s.a},ab13:function(t,e,n){var a=n("b622"),s=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[s]=!1,"/./"[t](e)}catch(a){}}return!1}},ac1f:function(t,e,n){"use strict";var a=n("23e7"),s=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},caad:function(t,e,n){"use strict";var a=n("23e7"),s=n("4d64").includes,i=n("44d2"),r=n("ae40"),o=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!o},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d28c:function(t,e,n){"use strict";var a=n("92ae"),s=n.n(a);s.a},d3dc:function(t,e,n){"use strict";var a=n("2a2c"),s=n.n(a);s.a},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),s=n("d039"),i=n("b622"),r=n("9263"),o=n("9112"),c=i("species"),l=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var v=i(t),p=!s((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),g=p&&!s((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!p||!g||"replace"===t&&(!l||!u||h)||"split"===t&&!f){var x=/./[v],w=n(v,""[t],(function(t,e,n,a,s){return e.exec===r?p&&!s?{done:!0,value:x.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=w[0],m=w[1];a(String.prototype,t,_),a(RegExp.prototype,v,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}d&&o(RegExp.prototype[v],"sham",!0)}}}]);
//# sourceMappingURL=chunk-ae08498c.2461286d.js.map